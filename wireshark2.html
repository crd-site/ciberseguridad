<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Gu√≠a Definitiva de Uso Wireshark | CRD</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Usa tu CSS global del sitio -->
  <link rel="stylesheet" href="assets/css/estilos.css">
</head>
<body>
  <main>
    <!-- Aviso √©tico (sin modificar) -->
    <div class="aviso-etico">
      üõ°Ô∏è <strong>Uso educativo y √©tico:</strong> Este material fue elaborado exclusivamente con fines acad√©micos para el √°rea de <strong>ciberseguridad</strong>. Todo el contenido se utiliza en un entorno controlado, con prop√≥sitos <strong>formativos</strong> guiados por el docente. Como parte del aprendizaje, se introduce el <strong>modelado de amenazas</strong> para desarrollar una <strong>mentalidad cr√≠tica</strong> hacia la seguridad, ense√±ando a los estudiantes a analizar sistemas desde la perspectiva de un <strong>posible atacante</strong> con el fin de anticipar y prevenir riesgos. Lejos de constituir una gu√≠a para <strong>pr√°cticas ilegales</strong>, este enfoque busca formar <strong>profesionales conscientes</strong>, capaces de pensar como un atacante para <strong>proteger mejor los sistemas</strong>.
    </div>

    <!-- Contenido -->
    <h1>üß† Gu√≠a Definitiva de Uso de Wireshark</h1>

    <h2>üßæ ¬øQu√© es Wireshark?</h2>
    <p><strong>Wireshark</strong> es un analizador de protocolos de red que permite capturar, inspeccionar y analizar el tr√°fico que circula por las interfaces de red. Es una herramienta clave en <strong>ciberseguridad</strong>, <strong>an√°lisis forense</strong> y <strong>administraci√≥n de redes</strong> para detectar problemas, identificar ataques y entender el comportamiento de aplicaciones y protocolos.</p>

    <h2>‚ö†Ô∏è Conceptos Clave Antes de Empezar</h2>
    <h3>Filtros de Captura vs. Filtros de Visualizaci√≥n</h3>
    <ul>
      <li><strong>Filtros de Captura:</strong> se aplican <em>antes</em> de iniciar la captura (ej.: <code>tcp port 80</code>). Limitan qu√© tr√°fico se guarda (ahorran recursos). Sintaxis BPF.</li>
      <li><strong>Filtros de Visualizaci√≥n:</strong> se aplican <em>despu√©s</em> de capturar (ej.: <code>http.request.method == "POST"</code>). Ocultan/ muestran en pantalla. Muy potentes.</li>
    </ul>

    <h3>Modo Promiscuo vs. Modo Monitor</h3>
    <ul>
      <li><strong>Promiscuo (Ethernet):</strong> la tarjeta captura todos los paquetes del segmento, no solo los dirigidos a ella (Wireshark lo activa por defecto).</li>
      <li><strong>Monitor (Wi-Fi):</strong> captura tramas 802.11 ‚Äúdel aire‚Äù sin asociarse a un AP (√∫til para auditor√≠as Wi-Fi).</li>
    </ul>

    <div class="aviso-etico" style="margin-top:16px;">
      üí° <strong>Nota:</strong> En <strong>Kali Linux</strong> suele venir preinstalado. Verific√° permisos de captura:
      <pre><code>sudo wireshark
        solo si no tiene permisos el usuario
sudo usermod -aG wireshark $USER</code></pre>
      Luego, cerr√° sesi√≥n y volv√© a entrar para aplicar los cambios.
    </div>

    <hr>

    <h2>üõ†Ô∏è 1. Instalaci√≥n y Preparaci√≥n</h2>

    <h3>1.1 Descarga (si no us√°s Kali)</h3>
    <ul>
      <li>üåç Sitio oficial: <a href="https://www.wireshark.org/" target="_blank">https://www.wireshark.org/</a></li>
      <li>Disponible para Windows, Linux y macOS.</li>
    </ul>

    <h3>1.2 Instalaci√≥n en Windows</h3>
    <ol>
      <li>Descargar el instalador <code>.exe</code>.</li>
      <li>Ejecutar y aceptar la licencia.</li>
      <li>Incluir <strong>Npcap</strong> cuando se solicite (necesario para capturar).</li>
      <li>Finalizar e iniciar desde el men√∫ Inicio.</li>
    </ol>

    <h3>1.3 Instalaci√≥n en Linux (Ubuntu/Debian)</h3>
    <p>Durante la instalaci√≥n, eleg√≠ que usuarios no-root puedan capturar.</p>
    <pre><code>sudo apt update
sudo apt install wireshark
sudo usermod -aG wireshark $USER</code></pre>
    <p>üîÅ Cerr√° sesi√≥n y volv√© a entrar para aplicar permisos.</p>

    <h3>1.4 Instalaci√≥n en macOS (Homebrew)</h3>
    <pre><code>brew install --cask wireshark</code></pre>
    <p>üîê Autoriz√° permisos de captura si macOS lo solicita.</p>

    <hr>

    <h2>üå± 2. Nivel Inicial ‚Äî Primeros Pasos</h2>

    <h3>2.1 Interfaz principal</h3>
    <ul>
      <li><strong>Listado de interfaces:</strong> tarjetas (Wi-Fi, Ethernet) y gr√°fico de actividad.</li>
      <li><strong>Panel de paquetes (arriba):</strong> cronolog√≠a de paquetes.</li>
      <li><strong>Panel de detalles (medio):</strong> capas y campos del paquete.</li>
      <li><strong>Panel de bytes (abajo):</strong> vista Hex/ASCII del payload.</li>
    </ul>

    <h3>2.2 Selecci√≥n de interfaz y captura b√°sica</h3>
    <ol>
      <li>Eleg√≠ la interfaz con tr√°fico (Wi-Fi/Ethernet).</li>
      <li>Doble clic para iniciar.</li>
      <li>Detenela con el bot√≥n rojo (Stop).</li>
    </ol>

    <h3>2.3 Filtros de visualizaci√≥n b√°sicos</h3>
    <pre><code>http
dns
tcp
udp
ip.addr == 192.168.1.10</code></pre>

    <h3>2.4 Ejercicio b√°sico</h3>
    <ol>
      <li>Captur√° tr√°fico visitando un sitio HTTP (ej.: <code>http://neverssl.com/</code>).</li>
      <li>Filtr√° con <code>http</code> y observ√° <code>GET/POST</code>.</li>
      <li><strong>Respond√©:</strong> ¬øCu√°l es la IP destino del servidor?</li>
    </ol>

    <h3>2.5 Guardar y Abrir Capturas</h3>
    <ul>
      <li><strong>Guardar:</strong> <em>File ‚Üí Save As‚Ä¶</em> en <code>.pcapng</code> (defecto) o <code>.pcap</code>.</li>
      <li><strong>Abrir:</strong> <em>File ‚Üí Open</em> para analizar capturas de terceros.</li>
    </ul>

    <hr>

    <h2>üß© 3. Nivel Intermedio ‚Äî An√°lisis Detallado</h2>

    <h3>3.1 An√°lisis de protocolos</h3>
    <ul>
      <li><strong>TCP:</strong> handshakes (SYN/SYN-ACK/ACK), retransmisiones, <em>Follow TCP Stream</em>.</li>
      <li><strong>UDP:</strong> com√∫n en DNS/VoIP/streaming (sin control de entrega).</li>
      <li><strong>ICMP:</strong> diagn√≥stico (ping).</li>
    </ul>

    <h3>3.2 Reconstrucci√≥n de flujos</h3>
    <p>Clic derecho sobre un paquete ‚Üí <strong>Follow</strong> ‚Üí eleg√≠ protocolo (TCP/UDP/HTTP Stream‚Ä¶). Ventana con la conversaci√≥n completa.</p>

    <h3>3.3 Perfiles personalizados</h3>
    <p>Perfiles con columnas, reglas de color y filtros guardados (gesti√≥n desde barra de estado).</p>

    <h3>3.4 Ejercicio intermedio</h3>
    <ol>
      <li>Hac√© <code>ping google.com</code> mientras captur√°s.</li>
      <li>Filtr√° con <code>dns</code> y encontr√° dominio/IP de respuesta.</li>
      <li>Filtr√° con <code>icmp</code> para ver Echo Request/Reply.</li>
    </ol>

    <h3>3.5 El poder de ‚ÄúStatistics‚Äù</h3>
    <ul>
      <li><strong>Protocol Hierarchy:</strong> porcentaje por protocolo.</li>
      <li><strong>Conversations:</strong> pares de comunicaci√≥n (IPs/puertos), paquetes y bytes.</li>
      <li><strong>Endpoints:</strong> hosts involucrados (IPs/MACs), top talkers.</li>
    </ul>

    <h3>3.6 Personalizaci√≥n de la Interfaz</h3>
    <ul>
      <li><strong>Coloring Rules:</strong> <em>View ‚Üí Coloring Rules</em> (ej.: <code>tcp.flags.reset == 1</code> en rojo).</li>
      <li><strong>Columnas:</strong> <em>Column Preferences</em> (ej.: <code>http.user_agent</code>).</li>
    </ul>

    <hr>

    <h2>üöÄ 4. Nivel Avanzado ‚Äî Uso Profesional</h2>

    <h3>4.1 Filtros complejos</h3>
    <pre><code>http.request.method == "POST" && ip.dst == 192.168.1.50
!(dns || http)
frame contains "password"</code></pre>

    <h3>4.2 Tr√°fico cifrado (TLS)</h3>
    <ul>
      <li><strong>Handshakes:</strong> <code>tls.handshake.type == 1</code> (ClientHello), <code>== 2</code> (ServerHello).</li>
      <li><strong>Descifrado con claves:</strong> en <em>Edit ‚Üí Preferences ‚Üí Protocols ‚Üí TLS</em>, configur√° <em>(Pre)-Master-Secret log filename</em> (solo tus apps/lab).</li>
    </ul>

    <h3>4.3 Patrones de ataque</h3>
    <ul>
      <li><strong>Port scan SYN:</strong> <code>tcp.flags.syn == 1 && tcp.flags.ack == 0</code></li>
      <li><strong>DoS:</strong> <em>Statistics ‚Üí IO Graph</em> para picos an√≥malos.</li>
    </ul>

    <h3>4.4 Integraci√≥n con TShark (CLI)</h3>
    <p>TShark es la versi√≥n de l√≠nea de comandos (ideal para automatizaci√≥n/servidores).</p>
    <pre><code># Captura y guardado
tshark -i eth0 -f "tcp port 80" -w captura_http.pcap

# Extraer campos
tshark -r captura.pcap -T fields -e ip.src -e ip.dst -e tcp.dstport</code></pre>

    <h3>4.5 Ejercicio avanzado</h3>
    <p>Analiz√° un <code>.pcap</code> sospechoso. Identific√° tipo de ataque, protocolo, IP origen/destino.</p>

    <h3>4.6 Reconstrucci√≥n de archivos y objetos</h3>
    <p>Wireshark puede extraer archivos transferidos por protocolos no cifrados.</p>
    <ol>
      <li><strong>Gener√° tr√°fico</strong> descargando un archivo (<code>.zip</code>, <code>.jpg</code>, <code>.pdf</code>‚Ä¶).</li>
      <li><strong>Captur√°</strong> o abr√≠ un <code>.pcap</code> con esa transferencia.</li>
      <li><strong>File ‚Üí Export Objects ‚Üí</strong> eleg√≠ el protocolo (p.ej., <strong>HTTP</strong>).</li>
      <li>Seleccion√° el objeto y <strong>Save</strong> (√∫til en forense y para evidenciar riesgos de tr√°fico sin cifrar).</li>
    </ol>

    <h3>4.7 An√°lisis de rendimiento / troubleshooting</h3>
    <ul>
      <li><strong>Retransmisiones:</strong> <code>tcp.analysis.retransmission</code></li>
      <li><strong>Latencia:</strong> columna con <code>tcp.time_delta</code></li>
      <li><strong>Zero Window:</strong> <code>tcp.window_size == 0</code></li>
      <li><strong>Expert Info:</strong> indicador (abajo a la izquierda) con errores/avisos.</li>
    </ul>

    <h3>4.8 VoIP (Telephony)</h3>
    <ul>
      <li><strong>Telephony ‚Üí VoIP Calls</strong>: lista de llamadas (SIP/H.323).</li>
      <li><strong>Play Streams</strong>: reproducci√≥n/ m√©tricas (si no est√° cifrado y c√≥dec compatible).</li>
    </ul>

    <hr>

    <h2>üõ°Ô∏è 5. Buenas Pr√°cticas y √âtica</h2>
    <ul>
      <li>Captur√° solo con autorizaci√≥n expresa.</li>
      <li>Guard√° <code>.pcap</code> de forma segura (contienen datos sensibles).</li>
      <li>Document√° hallazgos con contexto t√©cnico y legal.</li>
    </ul>

    <hr>

    <h2>üìö 6. Recursos Adicionales</h2>
    <ul>
      <li>Wireshark User‚Äôs Guide: <a href="https://www.wireshark.org/docs/" target="_blank">documentaci√≥n oficial</a></li>
      <li>Foro oficial: <a href="https://ask.wireshark.org/" target="_blank">ask.wireshark.org</a></li>
      <li>Capturas de malware para practicar: <a href="https://www.malware-traffic-analysis.net/" target="_blank">Malware-Traffic-Analysis.net</a></li>
      <li>Muestras: <a href="https://wiki.wireshark.org/SampleCaptures" target="_blank">Wireshark Sample Captures</a></li>
      <li><strong>Libros:</strong> <em>Practical Packet Analysis</em> (Sanders); <em>Computer Networking: A Top-Down Approach</em> (Kurose & Ross).</li>
    </ul>

  </main>

  <div data-include="footer"></div>
  <script src="assets/js/scripts.js"></script>
</body>
</html>
